{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Popup.js","components/ImagePopup.js","utils/api.js","utils/auth.js","components/SubmitButton.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/Form.js","components/AuthInput.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","images/error.svg","images/success.svg","components/InfoTooltip.js","components/App.js","index.js"],"names":["Header","email","onClick","loggedIn","React","useState","isOpen","setIsOpen","isClicked","setIsClicked","linkClassName","className","src","logo","alt","path","to","CurrentUserContext","createContext","Card","props","card","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","like","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","onCardClick","type","aria-label","onCardDelete","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddPlace","avatar","about","cards","map","key","Footer","Popup","onClose","classname","children","handleEsc","event","useEffect","document","addEventListener","removeEventListener","ImagePopup","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_checkStatus","data","method","body","JSON","stringify","cardId","authorization","BASE_URL","checkStatus","SubmitButton","isDisabled","button","disabled","EditProfilePopup","onUpdateUser","isValid","setIsValid","validationMessage","setValidationMessage","inputValue","setInputValue","isFormValid","Object","values","every","Boolean","handleInputChange","target","value","validity","valid","onSubmit","preventDefault","action","noValidate","onChange","id","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","setFormValid","current","ref","AddPlacePopup","ConfirmPopup","onDelete","Form","title","text","AuthInput","Register","onRegister","password","e","Login","onLoggin","ProtectedRoute","InfoTooltip","isSuccess","message","success","error","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isDeletePopupOpen","setDeletePopupOpen","isMessagePopupOpen","setMessagePopupOpen","undefined","selectedCard","setSelectedCard","isloading","setIsLoading","setCurrentUser","setCards","setLoggedIn","setEmail","isSuccessful","setIsSuccessful","setMessage","history","useHistory","closeAllPopups","tokenCheck","token","localStorage","getItem","Authorization","auth","push","catch","err","console","log","all","getUserData","getInitialCards","info","Provider","removeItem","exact","changeLikeStatus","newCard","newCards","c","Accept","setItem","setUserData","result","finally","setUserAvatarData","postNewCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.73fec66b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from 'react';\r\nimport { Route, Switch, Link } from 'react-router-dom';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header({ email, onClick, loggedIn }) {\r\n\r\n  const [isOpen, setIsOpen] = React.useState(true);\r\n  const [isClicked, setIsClicked] = React.useState(false);\r\n\r\n  const linkClassName = \"header__link opacity header__link_visible\";\r\n\r\n  const handleClick = () => {\r\n    setIsOpen(!isOpen);\r\n    setIsClicked(!isClicked);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {loggedIn && <div className={`header__menu ${isOpen ? `` : `header__menu_visible`}`}>\r\n        <p className=\"header__email_menu\">{email}</p>\r\n        <Link onClick={onClick} className=\"header__link_menu\">Выйти</Link>\r\n      </div>}\r\n      <header className=\"header\">\r\n        <img className=\"header__logo\"\r\n          src={logo}\r\n          alt=\"Логотип\"\r\n        />\r\n        <div className=\"header__nav\">\r\n          <Switch>\r\n            <Route path=\"/sign-in\">\r\n              <Link to=\"/sign-up\" className={linkClassName}>Регистрация</Link>\r\n            </Route>\r\n            <Route path=\"/sign-up\">\r\n              <Link to=\"/sign-in\" className={linkClassName}>Войти</Link>\r\n            </Route>\r\n            <Route path=\"/\">\r\n              <button className={`button opacity header__button \r\n                ${isClicked ? 'header__button_close' : 'header__button_open'}`}\r\n                onClick={handleClick}\r\n              >\r\n              </button>\r\n              <p className=\"header__email\">{email}</p>\r\n              <Link onClick={onClick} className=\"header__link opacity\">Выйти</Link>\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </header>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n    const { card } = props;\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\r\n    const cardDeleteButtonClassName = (\r\n        `button__delete button opacity ${isOwn ? 'button_visible' : ''}`\r\n    );\r\n    const cardLikeButtonClassName = (\r\n        `button__like button opacity ${isLiked ? 'button__like_active' : ''}`\r\n    );\r\n\r\n    function handleClick() {\r\n        props.onCardClick(card);\r\n    }\r\n    function handleLikeClick() {\r\n        props.onCardLike(card)\r\n    }\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(card)\r\n    }\r\n\r\n    return (\r\n        <li className=\"card\">\r\n            <img\r\n                className=\"card__image\"\r\n                src={card.link} alt={card.name}\r\n                onClick={handleClick}\r\n            />\r\n            <button\r\n                type=\"button\"\r\n                aria-label=\"удалить элемент\"\r\n                className={cardDeleteButtonClassName}\r\n                onClick={handleDeleteClick}>\r\n            </button>\r\n            <div className=\"card__info\">\r\n                <h3 className=\"card__title\" >{card.name}</h3>\r\n                <div className=\"card__like\">\r\n                    <button\r\n                        type=\"button\"\r\n                        aria-label=\"выразить положительную реакцию\"\r\n                        className={cardLikeButtonClassName}\r\n                        onClick={handleLikeClick}>\r\n                    </button>\r\n                    <div className=\"card__like-counter\">{card.likes.length}</div>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n    const { onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete} = props;\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar\">\r\n                    <img\r\n                        className=\"profile__image\"\r\n                        src={currentUser.avatar}\r\n                        alt=\"Фотография профиля\"\r\n                    />\r\n                    <div className=\"profile__cover\">\r\n                        <button\r\n                            onClick={onEditAvatar}\r\n                            type=\"button\"\r\n                            className=\"button profile__button-avatar\"\r\n                            aria-label=\"обновить фотографию пользователя\">\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                    <button\r\n                        onClick={onEditProfile}\r\n                        type=\"button\"\r\n                        aria-label=\"обновить информацию пользователя\"\r\n                        className=\"button profile__button-edit opacity\">\r\n                    </button>\r\n                    <p className=\"profile__about\">{currentUser.about}</p>\r\n                </div>\r\n                <button\r\n                    onClick={onAddPlace}\r\n                    type=\"button\"\r\n                    aria-label=\"добавить новую карточку\"\r\n                    className=\"button profile__button-add opacity\">\r\n                </button>\r\n            </section>\r\n            <section className=\"card-container\">\r\n                <ul className=\"card-container__list\">\r\n                    {props.cards.map(card => <Card {...card}\r\n                        onCardClick={onCardClick}\r\n                        onCardLike={onCardLike}\r\n                        onCardDelete={onCardDelete}\r\n                        key={card._id}\r\n                        card={card} />)}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React, { useEffect } from 'react';\r\n\r\nfunction Popup({onClose, isOpen, name, classname, children}) {\r\n    \r\n    function handleEsc(event) {\r\n        if(event.key !== 'Escape') {\r\n            return\r\n        }\r\n        onClose();\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('keydown', handleEsc);\r\n        return () => document.removeEventListener('keydown', handleEsc);\r\n    }, [isOpen]);\r\n\r\n    return (\r\n        <section className={`popup popup_type_${name} ${isOpen ? \"popup_open\" : \"\"}`}>\r\n            <div className={classname}>\r\n                <button\r\n                    type=\"button\"\r\n                    aria-label=\"закрыть модальное окно\"\r\n                    className=\"button popup__close opacity\"\r\n                    onClick={onClose}>\r\n                </button>\r\n                {children}\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Popup;\r\n","import React from 'react';\r\nimport Popup from './Popup';\r\n\r\nfunction ImagePopup({ onClose, isOpen, card }) {\r\n    return (\r\n        <Popup\r\n            name=\"image\"\r\n            classname=\"popup__container_image\"\r\n            onClose={onClose}\r\n            isOpen={isOpen}\r\n        >\r\n            <img\r\n                className=\"popup__view\"\r\n                src={card ? card.link : \"\"}\r\n                alt={card ? card.name : \"\"}\r\n            />\r\n            <figcaption\r\n                className=\"popup__title popup__title_image\">\r\n                {card ? card.name : ''}\r\n            </figcaption>\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;\r\n","export class Api {\r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    _checkStatus(res) {\r\n        if (res.ok) {\r\n            return res.json()\r\n        }\r\n        return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: this._headers\r\n        })\r\n            .then((this._checkStatus));\r\n    }\r\n\r\n    getUserData() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            headers: this._headers,\r\n\r\n        })\r\n            .then(this._checkStatus);\r\n    }\r\n\r\n    postNewCard(data) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: this._headers,\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link\r\n            })\r\n        })\r\n            .then(this._checkStatus);\r\n    }\r\n\r\n    setUserData(data) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            headers: this._headers,\r\n            method: 'PATCH',\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about\r\n            })\r\n        })\r\n            .then(this._checkStatus);\r\n    }\r\n\r\n    setUserAvatarData(data) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            headers: this._headers,\r\n            method: 'PATCH',\r\n            body: JSON.stringify({\r\n                avatar: data.link\r\n            })\r\n        })\r\n            .then(this._checkStatus);\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n            headers: this._headers,\r\n            method: 'DELETE'\r\n        })\r\n            .then(this._checkStatus);\r\n    }\r\n\r\n    changeLikeStatus(cardId, like) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: like ? 'PUT' : 'DELETE',\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkStatus);\r\n    }\r\n}\r\n\r\nexport const api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\r\n    headers: {\r\n        authorization: '4905795f-d4f5-4259-8ab1-1154380da5eb',\r\n        'Content-Type': 'application/json'\r\n    }\r\n}); \r\n\r\n\r\n","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const checkStatus = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n};\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n  .then((res) => checkStatus(res));\r\n}\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n  method: 'POST',\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n  body: JSON.stringify({ email, password }),\r\n})\r\n.then((res) => checkStatus(res));\r\n}\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((res) => checkStatus(res));\r\n}\r\n","import React from 'react';\r\n\r\nfunction SubmitButton({classname, isDisabled, onClick, button}) {\r\n\r\n    return (\r\n        <button\r\n            type=\"submit\"\r\n            className={`button ${classname}__button-submit ${isDisabled ? 'popup__button-submit_disabled' : ''}`}\r\n            disabled={isDisabled}\r\n        >\r\n            {onClick ? \"Сохранение...\" : button}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default SubmitButton;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport Popup from './Popup';\r\nimport SubmitButton from './SubmitButton.js';\r\n\r\nfunction EditProfilePopup({ onUpdateUser, isOpen, onClose, onClick }) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [isValid, setIsValid] = React.useState({ name: true, about: true });\r\n    const [validationMessage, setValidationMessage] = React.useState({ name: '', about: '', });\r\n    const [inputValue, setInputValue] = React.useState({ name: '', about: '' });\r\n    const isFormValid = Object.values(isValid).every(Boolean);\r\n\r\n    React.useEffect(() => {\r\n        setInputValue({\r\n            name: currentUser.name || '',\r\n            about: currentUser.about || ''\r\n        });\r\n    }, [currentUser]);\r\n\r\n    function handleInputChange(event) {\r\n        const { name, value } = event.target;\r\n        setInputValue({\r\n            ...inputValue,\r\n            [name]: value,\r\n        });\r\n        setIsValid({\r\n            ...isValid,\r\n            [name]: event.target.validity.valid,\r\n        })\r\n        setValidationMessage({\r\n            ...validationMessage,\r\n            [name]: event.target.validationMessage,\r\n        })\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        onUpdateUser({\r\n            name: inputValue.name,\r\n            about: inputValue.about\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setInputValue({\r\n            name: currentUser.name || '',\r\n            about: currentUser.about || ''\r\n        });\r\n        setValidationMessage({ name: '', about: '', });\r\n    }, [currentUser.about, currentUser.name, isOpen])\r\n\r\n    return (\r\n        <Popup\r\n            name=\"edit\"\r\n            classname=\"popup__container\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n        >\r\n            <h3 className=\"popup__title\">Редактировать профиль</h3>\r\n            <form\r\n                onSubmit={handleSubmit}\r\n                className=\"popup__form\"\r\n                action=\"#\"\r\n                method=\"POST\"\r\n                noValidate\r\n            >\r\n                <label className=\"popup__field\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={inputValue.name}\r\n                        onChange={handleInputChange}\r\n                        id=\"name-input\"\r\n                        className=\"popup__item\"\r\n                        name=\"name\"\r\n                        placeholder=\"Имя\"\r\n                        required\r\n                        minLength=\"2\" maxLength=\"40\"\r\n                    />\r\n                    <span\r\n                        id=\"name-input-error\"\r\n                        className={!isValid.name ? 'popup__item-error' : \"\"}\r\n                    >\r\n                        {validationMessage.name}\r\n                    </span>\r\n                </label>\r\n                <label className=\"popup__field\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={inputValue.about}\r\n                        onChange={handleInputChange}\r\n                        id=\"about-input\"\r\n                        className=\"popup__item\"\r\n                        name=\"about\"\r\n                        placeholder=\"О себе\"\r\n                        required\r\n                        minLength=\"2\" maxLength=\"200\"\r\n                    />\r\n                    <span\r\n                        id=\"name-input-error\"\r\n                        className={!isValid.about ? 'popup__item-error' : \"\"}\r\n                    >\r\n                        {validationMessage.about}\r\n                    </span>\r\n                </label>\r\n                <SubmitButton\r\n                    classname=\"popup\"\r\n                    isDisabled={!isFormValid}\r\n                    button=\"Сохранить\"\r\n                    onClick={onClick}\r\n                >\r\n                </SubmitButton>\r\n            </form>\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n\r\n","import React from 'react';\r\nimport Popup from './Popup';\r\nimport SubmitButton from './SubmitButton.js';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, onClick }) {\r\n    const avatarRef = React.useRef('');\r\n    const [isValid, setIsValid] = React.useState(false);\r\n    const [validationMessage, setValidationMessage] = React.useState('');\r\n    const [isFormValid, setFormValid] = React.useState(false);\r\n\r\n    function handleChange(event) {\r\n        if (!event.target.validity.valid) {\r\n            setIsValid(true)\r\n            setValidationMessage(event.target.validationMessage)\r\n            setFormValid();\r\n        } else {\r\n            setIsValid(false)\r\n            setValidationMessage('')\r\n            setFormValid(true);\r\n        }\r\n    };\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        onUpdateAvatar({\r\n            link: avatarRef.current.value,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        avatarRef.current.value = '';\r\n        setValidationMessage('');\r\n        setFormValid();\r\n    }, [isOpen])\r\n\r\n    return (\r\n        <Popup\r\n            name=\"avatar\"\r\n            classname=\"popup__container\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n        >\r\n            <h3 className=\"popup__title\">Обновить аватар</h3>\r\n            <form\r\n                onSubmit={handleSubmit}\r\n                className=\"popup__form\"\r\n                action=\"#\"\r\n                method=\"POST\"\r\n                noValidate\r\n            >\r\n                <label className=\"popup__field\">\r\n                    <input\r\n                        ref={avatarRef}\r\n                        type=\"url\"\r\n                        onChange={handleChange}\r\n                        id=\"link-input\"\r\n                        className=\"popup__item\"\r\n                        name=\"link\"\r\n                        placeholder=\"Ссылка на картинку\"\r\n                        required />\r\n                    <span\r\n                        id=\"link-input-error\"\r\n                        className={isValid ? 'popup__item-error' : \"\"}\r\n                    >\r\n                        {validationMessage}\r\n                    </span>\r\n                </label>\r\n                <SubmitButton\r\n                    classname=\"popup\"\r\n                    isDisabled={!isFormValid}\r\n                    button=\"Сохранить\"\r\n                    onClick={onClick}\r\n                >\r\n                </SubmitButton>\r\n            </form>\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n\r\n","import React from 'react';\r\nimport Popup from './Popup';\r\nimport SubmitButton from './SubmitButton.js';\r\n\r\nfunction AddPlacePopup({ onClick, onAddPlace, isOpen, onClose}) {\r\n\r\n    const [inputValue, setInputValue] = React.useState({ name: '', link: '', });\r\n    const [isValid, setIsValid] = React.useState({ name: false, link: false });\r\n    const [validationMessage, setValidationMessage] = React.useState({ name: '', link: '' });\r\n    const isFormValid = Object.values(isValid).every(Boolean);\r\n\r\n    function handleInputChange(event) {\r\n        const { name, value } = event.target;\r\n        setInputValue({\r\n            ...inputValue,\r\n            [name]: value,\r\n        });\r\n        setIsValid({\r\n            ...isValid,\r\n            [name]: event.target.validity.valid,\r\n        })\r\n        setValidationMessage({\r\n            ...validationMessage,\r\n            [name]: event.target.validationMessage,\r\n        })\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        onAddPlace({\r\n            name: inputValue.name,\r\n            link: inputValue.link,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setInputValue({ name: '', link: '' });\r\n        setValidationMessage({ name: '', link: '' });\r\n        setIsValid({ name: false, link: false });\r\n    }, [isOpen])\r\n\r\n    return (\r\n        <Popup\r\n            name=\"add\"\r\n            classname=\"popup__container\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n        >\r\n            <h3 className=\"popup__title\">Новое место</h3>\r\n            <form\r\n                onSubmit={handleSubmit}\r\n                className=\"popup__form\"\r\n                action=\"#\"\r\n                method=\"POST\"\r\n                noValidate\r\n            >\r\n                <label className=\"popup__field\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={inputValue.name}\r\n                        className=\"popup__item\"\r\n                        name=\"name\"\r\n                        placeholder=\"Название\"\r\n                        required\r\n                        minLength=\"1\" maxLength=\"30\"\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    <span\r\n                        id=\"title-input-error\"\r\n                        className={!isValid.name ? 'popup__item-error' : \"\"}\r\n                    >\r\n                        {validationMessage.name}\r\n                    </span>\r\n                </label>\r\n                <label className=\"popup__field\">\r\n                    <input\r\n                        type=\"url\"\r\n                        value={inputValue.link}\r\n                        className=\"popup__item\"\r\n                        name=\"link\"\r\n                        placeholder=\"Ссылка на картинку\"\r\n                        required\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    <span\r\n                        id=\"title-input-error\"\r\n                        className={!isValid.link ? 'popup__item-error' : \"\"}\r\n                    >\r\n                        {validationMessage.link}\r\n                    </span>\r\n                </label>\r\n                <SubmitButton\r\n                    classname=\"popup\"\r\n                    isDisabled={!isFormValid}\r\n                    button=\"Создать\"\r\n                    onClick={onClick}\r\n                >\r\n                </SubmitButton>\r\n            </form>\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport Popup from './Popup';\r\nimport SubmitButton from './SubmitButton.js';\r\n\r\n\r\nfunction ConfirmPopup({ card, onDelete, isOpen, onClose }) {\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        onDelete(card)\r\n    }\r\n\r\n    return (\r\n        <Popup\r\n            name=\"delete\"\r\n            classname=\"popup__container\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n        >\r\n            <h3 className=\"popup__title\">Вы уверены?</h3>\r\n            <form\r\n                onSubmit={handleSubmit}\r\n                className=\"popup__form\"\r\n                action=\"#\"\r\n                method=\"POST\"\r\n                noValidate>\r\n                <SubmitButton\r\n                    classname=\"popup\"\r\n                    button=\"Да\"\r\n                >\r\n                </SubmitButton>\r\n            </form>\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default ConfirmPopup;","import React from 'react';\r\n\r\nfunction Form({ title, children, text, onSubmit, link }) {\r\n  return (\r\n    <div className=\"auth\">\r\n      <h3 className=\"auth__title\">{title}</h3>\r\n      <form\r\n        className=\"auth__form\"\r\n        action=\"#\"\r\n        onSubmit={onSubmit}\r\n      >\r\n        {children}\r\n      </form>\r\n      <div className=\"auth__info\">\r\n        <h4 className=\"auth__text\">{text}</h4>\r\n        {link}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","import React from 'react';\r\n\r\nfunction AuthInput({ type, placeholder, name, value, onChange }) {\r\n\r\n  return (\r\n    <input\r\n      className=\"auth__item\"\r\n      type={type}\r\n      placeholder={placeholder}\r\n      value={value}\r\n      name={name}\r\n      onChange={onChange}\r\n      required\r\n    />\r\n  );\r\n}\r\n\r\nexport default AuthInput;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Form from './Form';\r\nimport AuthInput from './AuthInput';\r\nimport SubmitButton from './SubmitButton.js';\r\n\r\nfunction Register({ onRegister }) {\r\n\r\n  const [inputValue, setInputValue] = React.useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n  \r\n  function handleInputChange(e) {\r\n    const { name, value } = e.target;\r\n    setInputValue({\r\n      ...inputValue,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const { email, password } = inputValue;\r\n    onRegister(email, password);\r\n  }\r\n  return (\r\n    <>\r\n      <Form\r\n        title=\"Регистрация\"\r\n        onSubmit={handleSubmit}\r\n        text={\"Уже зарегистрированы?\"}\r\n        link={<Link className=\"auth__link opacity\" to=\"/sign-in\">Войти</Link>}\r\n      >\r\n        <AuthInput\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={inputValue.email}\r\n          name=\"email\"\r\n          onChange={handleInputChange}\r\n        />\r\n        <AuthInput\r\n          type=\"password\"\r\n          placeholder=\"Пароль\"\r\n          value={inputValue.password}\r\n          name=\"password\"\r\n          onChange={handleInputChange}\r\n        />\r\n        <SubmitButton\r\n          button=\"Зарегистрироваться\"\r\n          classname=\"auth\"\r\n        >\r\n        </SubmitButton>\r\n      </Form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n\r\n","import React from 'react';\r\nimport Form from './Form';\r\nimport AuthInput from './AuthInput';\r\nimport SubmitButton from './SubmitButton.js';\r\n\r\nfunction Login({ onLoggin }) {\r\n  const [inputValue, setInputValue] = React.useState({ \r\n    email: '', \r\n    password: '' \r\n  });\r\n\r\n  function handleInputChange(e) {\r\n    const { name, value } = e.target;\r\n    setInputValue({\r\n      ...inputValue,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    const { email, password } = inputValue;\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n    onLoggin(email, password);\r\n  }\r\n  return (\r\n    <>\r\n      <Form\r\n        title=\"Вход\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <AuthInput\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={inputValue.email}\r\n          name=\"email\"\r\n          onChange={handleInputChange}\r\n        />\r\n        <AuthInput\r\n          type=\"password\"\r\n          placeholder=\"Пароль\"\r\n          value={inputValue.password}\r\n          name=\"password\"\r\n          onChange={handleInputChange}\r\n        />\r\n        <SubmitButton\r\n          button=\"Войти\"\r\n          classname=\"auth\"\r\n        >\r\n        </SubmitButton>\r\n      </Form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ loggedIn, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => loggedIn ? <Route {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","import React from 'react';\r\nimport Popup from './Popup';\r\nimport error from '../images/error.svg';\r\nimport success from '../images/success.svg';\r\n\r\nfunction InfoTooltip({ isOpen, onClose, isSuccess, message }) {\r\n  return (\r\n    <Popup\r\n      name=\"confirm\"\r\n      classname=\"popup__container\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n    >\r\n      <img\r\n        className=\"popup__image\"\r\n        src={isSuccess ? success : error}\r\n        alt=\"Изображение\"\r\n      />\r\n      <p className=\"popup__message\">{message}</p>\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","import React, { useEffect, useState } from 'react';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport { api } from '../utils/api';\r\nimport * as auth from '../utils/auth';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ConfirmPopup from './ConfirmPopup';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport InfoTooltip from './InfoTooltip';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\r\n  const [isDeletePopupOpen, setDeletePopupOpen] = useState(false);\r\n  const [isMessagePopupOpen, setMessagePopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(undefined);\r\n  const [isloading, setIsLoading] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [email, setEmail] = useState('');\r\n  const [isSuccessful, setIsSuccessful] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    Promise.all([api.getUserData(), api.getInitialCards()])\r\n      .then(([info, card]) => {\r\n        setCurrentUser(info);\r\n        setCards(card);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [])\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\r\n    api.changeLikeStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n        setCards(newCards);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n        closeAllPopups()\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleDeleteClick(card) {\r\n    setSelectedCard(card)\r\n    setDeletePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsImagePopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setDeletePopupOpen(false);\r\n    setMessagePopupOpen(false);\r\n    setSelectedCard();\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    setIsLoading(true)\r\n    api.setUserData(data)\r\n      .then((result) => {\r\n        setCurrentUser(result);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    setIsLoading(true)\r\n    api.setUserAvatarData(data)\r\n      .then(result => {\r\n        setCurrentUser(result);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    setIsLoading(true)\r\n    api.postNewCard(card)\r\n      .then(result => {\r\n        setCards([result, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  function handleRegisterSubmit(email, password) {\r\n    auth.register(email, password)\r\n      .then((data) => {\r\n        if (data) {\r\n          history.push('/sign-in');\r\n          setMessagePopupOpen(true);\r\n          setIsSuccessful(true);\r\n          setMessage('Вы успешно зарегистрировались!');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setMessage('Что-то пошло не так! Попробуйте ещё раз');\r\n        setMessagePopupOpen(true);\r\n        setIsSuccessful(false);\r\n        if (err === 400) {\r\n          return console.log('некорректно заполнено одно из полей');\r\n        }\r\n      })\r\n  }\r\n\r\n  function handleLoginSubmit(email, password) {\r\n    auth.authorize(email, password)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          setEmail(email)\r\n          setLoggedIn(true);\r\n          localStorage.setItem('token', data.token)\r\n          history.push('/')\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setMessage('Что-то пошло не так! Попробуйте ещё раз');\r\n        setMessagePopupOpen(true);\r\n        setIsSuccessful(false);\r\n        if (err === 400) {\r\n          return console.log('не передано одно из полей');\r\n        }\r\n        if (err === 401) {\r\n          return console.log('пользователь с email не найден');\r\n        }\r\n      })\r\n  }\r\n\r\n  function tokenCheck() {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      auth.checkToken(token)\r\n        .then((data) => {\r\n          setEmail(data.data.email)\r\n          setLoggedIn(true)\r\n          history.push('/')\r\n        })\r\n        .catch((err) => {\r\n          if (err === 401) {\r\n            return console.log('Токен не передан или передан не в том формате');\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  function onSignOut() {\r\n    localStorage.removeItem('token');\r\n    setLoggedIn(false)\r\n    history.push('/sign-in')\r\n  }\r\n\r\n  useEffect(() => {\r\n    tokenCheck();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <div className=\"container\">\r\n          <Header\r\n            email={email}\r\n            onClick={onSignOut}\r\n            loggedIn={loggedIn}\r\n          />\r\n          <Switch>\r\n            <ProtectedRoute exact path='/' loggedIn={loggedIn}>\r\n              <Main\r\n                cards={cards}\r\n                onEditProfile={handleEditProfileClick}\r\n                onAddPlace={handleAddPlaceClick}\r\n                onEditAvatar={handleEditAvatarClick}\r\n                onCardClick={handleCardClick}\r\n                onCardLike={handleCardLike}\r\n                onCardDelete={handleDeleteClick}\r\n              />\r\n              <Footer />\r\n            </ProtectedRoute>\r\n            <Route path=\"/sign-up\">\r\n              <Register\r\n                onRegister={handleRegisterSubmit}\r\n              />\r\n            </Route>\r\n            <Route path=\"/sign-in\">\r\n              <Login\r\n                onLoggin={handleLoginSubmit}\r\n              />\r\n            </Route>\r\n            <Route>\r\n              {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n        <InfoTooltip\r\n          isOpen={isMessagePopupOpen}\r\n          isSuccess={isSuccessful}\r\n          message={message}\r\n          onClose={closeAllPopups}\r\n        />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClick={isloading}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClick={isloading}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClick={isloading}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        <ImagePopup\r\n          isOpen={isImagePopupOpen}\r\n          card={selectedCard}\r\n          onClose={closeAllPopups}\r\n        />\r\n        <ConfirmPopup\r\n          isOpen={isDeletePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onDelete={handleCardDelete}\r\n          card={selectedCard}\r\n        />\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <App />\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}